<div class="container">
  <div  [hidden]="submitted">
    <h1>Job Application Form</h1>
    <form *ngIf="active" (ngSubmit)="onSubmit()" #applicantForm="ngForm">
      <div class="form-group">
        <label for="firstname">First Name</label>
        <input type="text" class="form-control" required
          [(ngModel)]="applicant.firstname"
            ngControl="firstname"  #firstname="ngForm" >
        <div [hidden]="firstname.valid || firstname.pristine" class="alert alert-danger">
          First Name is required
        </div>
      </div>
      
      <div class="form-group">
        <label for="lastname">Last Name</label>
        <input type="text" class="form-control" required
          [(ngModel)]="applicant.lastname"
            ngControl="lastname"  #lastname="ngForm" >
        <div [hidden]="lastname.valid || lastname.pristine" class="alert alert-danger">
          Last Name is required
        </div>
      </div>
      
      <div class="form-group">
        <label for="email">Email</label>
        <input type="text" class="form-control" required
          [(ngModel)]="applicant.email"
            ngControl="email"  #email="ngForm" >
        <div [hidden]="email.valid || email.pristine" class="alert alert-danger">
          Email is required
        </div>
      </div>
      
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" class="form-control" required
          [(ngModel)]="applicant.password"
            ngControl="password"  #password="ngForm" >
        <div [hidden]="password.valid || password.pristine" class="alert alert-danger">
          Password is required
        </div>
      </div>
      
      <div class="form-group">
        <label for="telephone">Telephone</label>
        <input type="text" class="form-control" required
          [(ngModel)]="applicant.telephone"
            ngControl="telephone"  #telephone="ngForm" >
        <div [hidden]="telephone.valid || telephone.pristine" class="alert alert-danger">
          Telephone is required
        </div>
      </div>
      
      <div class="form-group">
        <label for="address">Address</label>
        <input type="text" class="form-control" required
          [(ngModel)]="applicant.address"
            ngControl="address"  #address="ngForm" >
        <div [hidden]="address.valid || address.pristine" class="alert alert-danger">
          Address is required
        </div>
      </div>
      
      
      <div class="form-group">
        <label for="city">City</label>
        <input type="text" class="form-control" required
          [(ngModel)]="applicant.city"
            ngControl="city"  #city="ngForm" >
        <div [hidden]="city.valid || city.pristine" class="alert alert-danger">
          City is required
        </div>
      </div>
      
      <div class="form-group">
        <label for="zipcode">Zip Code</label>
        <input type="text" class="form-control" required
          [(ngModel)]="applicant.zipcode"
            ngControl="zipcode"  #zipcode="ngForm" >
        <div [hidden]="zipcode.valid || zipcode.pristine" class="alert alert-danger">
          Zip Code is required
        </div>
      </div>
      
      <div class="form-group">
        <div>
        <label for="citizen">United States Citizen</label>
        </div>
        <div class="btn-group">
            <label class="btn btn-primary" [class.active]="applicant.citizen" name="citizen" uib-btn-radio="'Left'" (click)="applicant.citizen = true">Yes</label>
            <label class="btn btn-primary" [class.active]="!applicant.citizen" name="citizen" uib-btn-radio="'Right'" (click)="applicant.citizen = false" checked>No</label>
        </div>
      </div>
      
      <div class="form-group">
        <div>
        <label for="felon">Have you ever comitted a felony?</label>
        </div>
        <div class="btn-group">
            <label class="btn btn-primary" [class.active]="applicant.felon" name="felon" uib-btn-radio="'true'" (click)="applicant.felon = true">Yes</label>
            <label class="btn btn-primary" [class.active]="!applicant.felon" name="felon" uib-btn-radio="'false'" (click)="applicant.felon = false" checked>No</label>
        </div>
      </div>
      
      <div class="form-group">
        <div>
        <label for="feloncomment">If yes, please explain</label>
        </div>
        <input type="text" class="form-control"
          [(ngModel)]="applicant.feloncomment"
            ngControl="feloncomment"  #feloncomment="ngForm" >
      </div>
      
      <!-- TODO: Add fields for previous employers -->
      
      
      <button type="submit" class="btn btn-default" [disabled]="!applicantForm.form.valid">Submit</button>

      <button type="button" class="btn btn-default" (click)="newApplicant()">Clear</button>
    </form>
  </div>

  <div [hidden]="!submitted">
    <h2>You submitted the following:</h2>
    <div class="row">
      <div class="col-xs-3">First Name</div>
      <div class="col-xs-9  pull-left">{{ applicant.firstname }}</div>
    </div>
        <div class="row">
      <div class="col-xs-3">Last Name</div>
      <div class="col-xs-9  pull-left">{{ applicant.lastname }}</div>
    </div>
    <div class="row">
      <div class="col-xs-3">Email</div>
      <div class="col-xs-9  pull-left">{{ applicant.email }}</div>
    </div>
    <div class="row">
      <div class="col-xs-3">Password</div>
      <div class="col-xs-9  pull-left">Hidden</div>
    </div>
    <div class="row">
      <div class="col-xs-3">Telephone</div>
      <div class="col-xs-9  pull-left">{{ applicant.telephone }}</div>
    </div>
    <div class="row">
      <div class="col-xs-3">Address</div>
      <div class="col-xs-9  pull-left">{{ applicant.address }}</div>
    </div>
    <div class="row">
      <div class="col-xs-3">City</div>
      <div class="col-xs-9  pull-left">{{ applicant.city }}</div>
    </div>
    <div class="row">
      <div class="col-xs-3">Zip Code</div>
      <div class="col-xs-9  pull-left">{{ applicant.zipcode }}</div>
    </div>
    <div class="row">
      <div class="col-xs-3">U.S. Citizen</div>
      <div class="col-xs-9  pull-left">{{ applicant.citizen }}</div>
    </div>

    <br>
    <button class="btn btn-default" (click)="submitted=false">Edit</button>
  </div>
</div>

  <div class="error" *ngIf="errorMessage">{{errorMessage}}</div>
  